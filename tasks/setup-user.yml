---
- name: creating service account group
  become: yes
  become_user: root
  when: node_exporter_service_def.group is defined
  group:
    name: '{{ node_exporter_service_def.group }}'
    state: present

- name: create service account user
  become: yes
  become_user: root
  when: node_exporter_service_def.user is defined
  user:
    name: '{{ node_exporter_service_def.user }}'
    group: '{{ node_exporter_service_def.group }}'
    state: present
